!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("views"),require("orange")):"function"==typeof define&&define.amd?define(["views","orange"],t):"object"==typeof exports?exports.form=t(require("views"),require("orange")):(e.views=e.views||{},e.views.form=t(e.views,e.orange))}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}n(r(1));var i=r(13);t.editor=i.editor;var o=r(5);t.BaseEditor=o.BaseEditor,t.BaseLayoutEditor=o.BaseLayoutEditor;var a=r(3);t.Field=a.Field,n(r(7)),r(14)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},c=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=r(2),h=r(3),d=r(4),p=r(8),y=p("views:form"),g=function(e){function t(e){n(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r._fields=[],r._isRendered=!1,e=e||{},r._options=d.extend({},{createHelpAreas:!1,validateOnChange:!0,fieldOptions:{}},e),r}return o(t,e),a(t,[{key:"getFieldByName",value:function(e){for(var t=0,r=this.fields.length;t<r;t++)if(this.fields[t].name===e)return this.fields[t];return null}},{key:"render",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._isRendered=!1,e.silent||this.triggerMethod("before:render"),this.undelegateEvents(),this.renderTemplate(this.getTemplateData()),this._renderFields(),this.delegateEvents(),e.silent||this.triggerMethod("render"),this._isRendered=!0,this._setValue(this.model),this}},{key:"setModel",value:function(e){if(e!==this.model)return s(Object.getPrototypeOf(t.prototype),"setModel",this).call(this,e),this._setValue(e),null!=e&&this.listenTo(e,"change",this._onModelValueChange),this}},{key:"validate",value:function(){return this.fields.map(function(e){return e.validate()}).filter(function(e){return null!=e})}},{key:"_setValue",value:function(e){var t=this;this._isRendered||this.once("render",function(){return t._setValue(e)}),null==e?this.fields.forEach(function(e){return e.editor.clear()}):this.fields.forEach(function(r){void 0!==e.get(r.name)?r.editor.value=e.get(r.name):t.model.set(r.name,r.editor.value,{silent:!0})})}},{key:"_renderFields",value:function(){var e=this;this.triggerMethod("before:render:fields"),this._fields.forEach(function(t){e.stopListening(t),t.destroy()}),this._fields=[];var t=this.el.querySelectorAll(".field");y("found %i fields",t.length);for(var r,n=[],i=0,o=t.length;i<o;i++)try{var a=t[i].querySelector("[name]"),s="";a&&(s=a.getAttribute("name"));var l=d.extend({createHelpArea:this.options.createHelpAreas||!1},this.options.fieldOptions[s]||{},{form:this});y("create field: %s",s),r=h.Field.createField(t[i],l),this._fields.push(r),this.listenTo(r,"change",this._onFieldValueChanged)}catch(e){n.push(e)}this._fields.forEach(function(e){e.render()}),n.length&&this.triggerMethod("render:fields:error",n),this.triggerMethod("render:fields")}},{key:"_onModelValueChange",value:function(e){for(var t in e.changed){var r=this.getFieldByName(t);null!=r&&(r.editor.value=e.get(t))}}},{key:"_onFieldValueChanged",value:function(e){this.trigger("change"),this.options.validateOnChange&&e.validate()||this.model.set(e.name,e.editor.value)}},{key:"_onFieldEventTriggered",value:function(e,t){if(console.log(e),"change"===e){if(this.trigger("change"),this.options.validateOnChange&&t.validate())return;this.model.set(t.name,t.editor.value)}for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.triggerMethod.apply(this,["field:"+e,t].concat(n))}},{key:"destroy",value:function(){return this._fields.forEach(function(e){return e.destroy()}),this._fields=[],s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"options",get:function(){return this._options}},{key:"fields",get:function(){return[].concat(this._fields)}}]),t}(f.View);g=u([f.attributes({tagName:"form",events:{}}),c("design:paramtypes",[Object])],g),t.Form=g},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},u=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=r(2),f=r(4),h=r(5),d=r(13),p=r(8),y=p("views:form:field"),g=void 0,v=g=function(e){function t(e){if(n(this,t),null==e)throw new Error("field options required");if(null==e.form)throw new Error("form required");var r=i(this,Object.getPrototypeOf(t).call(this,e));return r._options=e,r._form=e.form,r}return o(t,e),a(t,[{key:"clear",value:function(){this.editor&&this.editor.clear(),f.removeClass(this.el,"has-success has-error"),f.Html.query(".form-field-helparea").html("")}},{key:"render",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.silent||this.triggerMethod("before:render"),this.undelegateEvents(),this.renderTemplate(this.getTemplateData()),!this._editor){var t=this.el.querySelector("[name]");if(!t)throw new Error("no editor or no input with name attribute");var r=t.getAttribute("form-editor"),n=f.extend({},this._options.editorOptions||{},{el:t}),i=t.getAttribute("name");if(r){var o=d.getEditor(r,n);o&&(y("%s: found custom editor type: %s",i,r),this.editor=o)}if(null==this.editor){var a=d.getEditor(t.nodeName.toLowerCase(),n);a?(y("%s: found custom editor type from tag: %s",i,t.nodeName.toLowerCase()),this.editor=a):this.editor=new h.Editor(n)}}return this._options.createHelpArea&&this.createHelpArea(),this.editor.render(),this.delegateEvents(),e.silent||this.triggerMethod("render"),this}},{key:"createHelpArea",value:function(){var e=this.el.querySelector(".form-field-helparea");e||(y("%s: creating help area",this.name),this.triggerMethod("before:helparea"),e=f.createElement("div",{class:"form-field-helparea"}),this.el.appendChild(e))}},{key:"validate",value:function(){if(!this.editor)return null;var e=f.Html.query(this.el),t=this.editor.validate(this._form),r=this.el.querySelector(".form-field-helparea");if(null==t)return e.addClass("has-success").removeClass("has-error"),void(r&&(r.innerHTML=""));if(e.addClass("has-error").removeClass("has-success"),r){var n=void 0;if(1===t.errors.length)n="<span>"+t.errors[0].message+"</span>";else{var i=t.errors.map(function(e){return"<li>"+e.message+"</li>"}).join("");n="<ul>"+i+"</ul>"}r.innerHTML=n}return t}},{key:"_onEditorChange",value:function(){this.triggerMethod("change",this)}},{key:"name",get:function(){return this._editor?this._editor.name:"no-name"}},{key:"label",get:function(){var e=this.el.querySelector("form-field-label");return e?e.textContent:this.name}},{key:"value",get:function(){return this.editor?this.editor.value:null},set:function(e){this.editor&&(this.editor.value=e)}},{key:"editor",set:function(e){this._editor&&(this.stopListening(this._editor),this._editor.destroy()),this._editor=e,null!=e&&this.listenTo(e,"change",this._onEditorChange)},get:function(){return this._editor}}],[{key:"createField",value:function(e,t){var r=e.querySelector("[name]");if(null==r)throw new Error("field doest not contain an element");var n=f.extend({},t||{},{el:e});return new g(n)}}]),t}(c.View);v=g=l([c.attributes({tagName:"div",className:"form-field"}),u("design:paramtypes",[Object])],v),t.Field=v},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},u=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=r(2),f=r(6),h=r(7),d=r(4),p=function(e){function t(){return n(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"clear",value:function(){this.triggerMethod("before:clear"),this.setValue(null),this.triggerMethod("clear")}},{key:"validate",value:function(e){return h.validate(e,this,this.value)}},{key:"name",get:function(){return this.el.getAttribute("name")}},{key:"value",get:function(){return this.getValue()},set:function(e){d.equal(e,this.getValue())||this.setValue(e)}}]),t}(c.View);t.BaseEditor=p;var y=function(e){function t(){return n(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"clear",value:function(){this.triggerMethod("before:clear"),this.setValue(null),this.triggerMethod("clear")}},{key:"validate",value:function(e){return h.validate(e,this,this.value)}},{key:"name",get:function(){return this.el.getAttribute("name")}},{key:"value",get:function(){return this.getValue()},set:function(e){d.equal(e,this.getValue())||(this.triggerMethod("before:set:value",e),this.setValue(e),this.triggerMethod("set:value",e))}}]),t}(c.View);t.BaseLayoutEditor=y;var g=function(e){function t(){return n(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"setValue",value:function(e){f.setValue(this.el,e)}},{key:"getValue",value:function(){return f.getValue(this.el)}},{key:"_onKeyPress",value:function(e){this._prev=this.getValue(),this.triggerMethod("change")}},{key:"_onChange",value:function(e){d.equal(this._prev,this.getValue())||(this._prev=this.getValue(),this.triggerMethod("change"))}},{key:"name",get:function(){return this.el.getAttribute("name")}}]),t}(p);g=l([c.attributes({tagName:"input",events:{keyup:"_onKeyPress",change:"_onChange"}}),u("design:paramtypes",[])],g),t.Editor=g},function(e,t){"use strict";function r(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];return e.replace(l,function(e,n){for(var i=n.split("."),o=i.length,a=t,s=0;s<o;s++){if(a=a[i[s]],a===u){if(r)throw new Error("tim: '"+i[s]+"' not found in "+e);a=""}if(s===o-1)return a}})}function n(e,t){var r=e,i=/checkbox/.test(r.type),o=/radio/.test(r.type),a=i||o,s=Object.prototype.hasOwnProperty.call(r,"value"),l=s||/input|textarea|checkbox/.test(r.nodeName.toLowerCase()),u=/select/i.test(r.nodeName);if(1===arguments.length){if(i)return Boolean(r.checked);if(u)return r.value||"";if(l){var c=r.value||"";return r.type&&"number"===r.type.toLowerCase()&&(c=parseInt(c),c=isNaN(c)?0:c),c}return r.innerHTML||""}null==t&&(t=""),a?o?String(t)===String(r.value)&&(r.checked=!0):r.checked=t:String(t)!==n(e)&&(l||u?r.value=t:r.innerHTML=t)}function i(e,t){n(e,t)}var o="<%",a="%>",s="[a-z0-9_$][\\.a-z0-9_]*",l=new RegExp(o+"\\s*("+s+")\\s*"+a,"gi"),u=void 0;t.template=r,t.getValue=n,t.setValue=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=Object.keys(v).map(function(t){if("required"===t)return null;var r=e.getAttribute("validate-"+t);return null!=r?[v[t],r,g[t]||"invalid",t]:null}).filter(function(e){return null!==e});return t}function s(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=t.el,o=a(i),s=t.name,l=[],u=i.getAttribute("required");if(null==u&&(u=i.getAttribute("validate-required")),o=h.unique(o.concat(n)),null!=u){if(p("running 'required' validator on %s",s),!v.required(s,e,r,null))return p("'required' validator failed on %s",s),new b([new m(f.template(g.required,{name:s,label:s,value:r,arg:null}))])}else if(null==r||""==r)return null;for(var c=0,d=o.length;c<d;c++)if(p("running '%s' validator on %s",o[c][3],s),!o[c][0](s,e,r,o[c][1])){p("'%s' validator failed on %s",o[c][3],s);var y=new m(f.template(o[c][2],{name:s,value:r,label:s,arg:o[c][1]}));l.push(y)}return l.length?new b(l):null}function l(e,t){g[e]=t}function u(e,t){v[e]=t}var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(6),h=r(4),d=r(8),p=d("views:form:validator"),y=r(11);t.validate=s;var g;!function(e){e.required="<b><% label %></b> is required",e.min="<b><% label %></b> needs to be minimum <% arg %>",e.max="<b><% label %></b> needs to be maximum <% arg %>",e.email="<b><% label %></b> is not an email",e.url="<b><% label %></b> is not an url",e.match="<b><% label %></b> does not match: <b><%arg%></b>"}(g||(g={}));var v;!function(e){function t(e,t,r,n){return!(""==r||null==r)}function r(e,t,r,n){var i=parseInt(n);if(!isNaN(i))return"string"==typeof r?r.length>=i:Array.isArray(r)?r.length>=i:parseInt(r)>=i}function n(e,t,r,n){var i=parseInt(n);if(!isNaN(i))return"string"==typeof r?r.length<=i:Array.isArray(r)?r.length<=i:parseInt(r)<=i}function i(e,t,r,n){var i=t.getFieldByName(n);if(!i)throw new Error("field: "+n+" does not exists");var o=i.editor.value;return h.equal(r,o)}function o(e,t,r,n){return y.isUri(r)}function a(e,t,r,n){function i(e){if(!e)return!1;if(e.length>254)return!1;var t=s.test(e);if(!t)return!1;var r=e.split("@");if(r[0].length>64)return!1;var n=r[1].split(".");return!n.some(function(e){return e.length>63})}return i(r)}e.required=t,e.min=r,e.max=n,e.match=i,e.url=o;var s=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;e.email=a}(v=t.validators||(t.validators={})),t.setMessage=l,t.registerValidator=u;var m=function(e){function t(e){n(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r.message=e,r}return o(t,e),t}(Error);t.ValidateError=m;var b=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];n(this,t);var r=i(this,Object.getPrototypeOf(t).call(this));return r.errors=e,r}return o(t,e),c(t,[{key:"length",get:function(){return this.errors.length}}]),t}(Error);t.ValidateErrors=b},function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,n),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return e}function l(){try{return window.localStorage}catch(e){}}t=e.exports=r(9),t.log=o,t.formatArgs=i,t.save=a,t.load=s,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,r){function n(){return t.colors[c++%t.colors.length]}function i(e){function r(){}function i(){var e=i,r=+new Date,o=r-(u||r);e.diff=o,e.prev=u,e.curr=r,u=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=n());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;s++;var i=t.formatters[n];if("function"==typeof i){var o=a[s];r=i.call(e,o),a.splice(s,1),s--}return r}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var l=i.log||t.log||console.log.bind(console);l.apply(e,a)}r.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:r;return o.namespace=e,o}function o(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(e=r[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=l,t.disable=a,t.enable=o,t.enabled=s,t.humanize=r(10),t.names=[],t.skips=[],t.formatters={};var u,c=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*l;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,u,"day")||o(e,l,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,s=60*a,l=60*s,u=24*l,c=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?i(e):n(e)}},function(e,t,r){(function(e){!function(e){"use strict";function t(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var t=[],r="",n="",i="",a="",s="",l="";if(t=o(e),r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],r&&r.length&&i.length>=0){if(n&&n.length){if(0!==i.length&&!/^\//.test(i))return}else if(/^\/\//.test(i))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(r.toLowerCase()))return l+=r+":",n&&n.length&&(l+="//"+n),l+=i,a&&a.length&&(l+="?"+a),s&&s.length&&(l+="#"+s),l}}}function r(e,r){if(t(e)){var n=[],i="",a="",s="",l="",u="",c="",f="";if(n=o(e),i=n[1],a=n[2],s=n[3],u=n[4],c=n[5],i){if(r){if("https"!=i.toLowerCase())return}else if("http"!=i.toLowerCase())return;if(a)return/:(\d+)$/.test(a)&&(l=a.match(/:(\d+)$/)[0],a=a.replace(/:\d+$/,"")),f+=i+":",f+="//"+a,l&&(f+=l),f+=s,u&&u.length&&(f+="?"+u),c&&c.length&&(f+="#"+c),f}}}function n(e){return r(e,!0)}function i(e){return r(e)||n(e)}e.exports.is_uri=t,e.exports.is_http_uri=r,e.exports.is_https_uri=n,e.exports.is_web_uri=i,e.exports.isUri=t,e.exports.isHttpUri=r,e.exports.isHttpsUri=n,e.exports.isWebUri=i;var o=function(e){var t=e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return t}}(e)}).call(t,r(12)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(e){return function(t){a("register editor: %s",e),s[e]=t}}function i(e,t){return s[e]?new s[e](t):null}var o=r(8),a=o("views:form"),s={};t.editor=n,t.getEditor=i},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},c=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=r(4),h=r(5),d=r(13),p=r(2),y=function(){function e(t){o(this,e),this.el=t,this._onChange=f.bind(this._onChange,this),this._onPageResize=f.bind(this._onPageResize,this),this._initInitialSize()}return s(e,[{key:"_onPageResize",value:function(){this.el.clientWidth!==this._state.clientWidth&&this._updateSize()}},{key:"_onChange",value:function(){this._updateSize()}},{key:"_initInitialSize",value:function(){var e=window.getComputedStyle(this.el,null),t=void 0;"vertical"===e.resize?this.el.style.resize="none":"both"===e.resize&&(this.el.style.resize="horizontal"),t="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(t)&&(t=0),this._state={overflowY:e.overflowY,heightOffset:t,clientWidth:this.el.clientWidth},f.addEventListener(this.el,"keyup",this._onChange),f.addEventListener(this.el,"input",this._onChange),f.addEventListener(window,"resize",this._onPageResize),this._updateSize()}},{key:"_changeOverflow",value:function(e){var t=this.el.style.width;this.el.style.width="0px",this.el.offsetWidth,this.el.style.width=t,this._state.overflowY=e,this.el.style.overflowY=e,this._resize()}},{key:"_resize",value:function(){var e=window.pageYOffset,t=document.body.scrollTop,r=this.el.style.height;this.el.style.height="auto";var n=this.el.scrollHeight+this._state.heightOffset;return 0===this.el.scrollHeight?void(this.el.style.height=r):(this.el.style.height=n+"px",this._state.clientWidth=this.el.clientWidth,document.documentElement.scrollTop=e,void(document.body.scrollTop=t))}},{key:"update",value:function(){this._updateSize()}},{key:"_updateSize",value:function(){var e=this.el.style.height;this._resize();var t=window.getComputedStyle(this.el,null);t.height!==this.el.style.height?"visible"!==this._state.overflowY&&this._changeOverflow("visible"):"hidden"!==this._state.overflowY&&this._changeOverflow("hidden"),e!==this.el.style.height}},{key:"destroy",value:function(){f.removeEventListener(this.el,"keyup",this._onChange),f.removeEventListener(this.el,"input",this._onChange),f.removeEventListener(window,"resize",this._onPageResize)}}]),e}();t.AutoSizer=y;var g=function(e){function t(e){return o(this,t),n(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(e){a(Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var r=this.el.getAttribute("autosize");return null!=r?null==this._autoSizer&&(this._autoSizer=new y(this.el),this.el.style.overflowX="hidden",this.el.style.wordWrap="break-word",this.el.rows=1):this._autoSizer&&(this._autoSizer.destroy(),this._autoSizer=void 0),this}},{key:"setValue",value:function(e){this.el.value=e,this._autoSizer&&this._autoSizer.update()}},{key:"getValue",value:function(){return this.el.value}},{key:"destroy",value:function(){this._autoSizer&&(this._autoSizer.destroy(),this._autoSizer=void 0)}}]),t}(h.BaseEditor);g=u([d.editor("textarea"),p.attributes({events:{keyup:function(){this._prev=this.getValue(),this.triggerMethod("change")},change:function(){this._prev!==this.getValue()&&(this._prev=this.getValue(),this.triggerMethod("change"))}}}),c("design:paramtypes",[Object])],g)}])});
//# sourceMappingURL=views.form.min.js.map
