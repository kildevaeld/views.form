{"version":3,"sources":["views.form.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__export","hasOwnProperty","define_1","editor","editor_1","BaseEditor","BaseLayoutEditor","field_1","Field","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_typeof","Symbol","iterator","obj","__decorate","decorators","d","arguments","r","Reflect","decorate","__metadata","k","v","metadata","views_1","orange_1","Debug","debug","Form","_views_1$View","options","_this","_fields","_isRendered","_options","extend","createHelpAreas","validateOnChange","fields","fieldSelector","name","ii","silent","triggerMethod","undelegateEvents","renderTemplate","getTemplateData","_renderFields","delegateEvents","_setValue","model","_model","set","listenTo","_onModelValueChange","map","validate","filter","forEach","f","clear","_this2","_this3","stopListening","destroy","el","querySelectorAll","field","errors","e","querySelector","getAttribute","o","createHelpArea","form","createField","push","_onFieldValueChanged","render","changed","getFieldByName","trigger","event","console","log","_len","args","Array","_key","apply","concat","out","View","attributes","tagName","events","orange_dom_1","Field_1","Error","_form","removeClass","Html","query","html","_editor","editorType","label","getEditor","nodeName","toLowerCase","Editor","helpArea","createElement","class","appendChild","addClass","innerHTML","message","join","_label","textContent","_onEditorChange","elm","className","matches","selector","matchesSelector","addEventListener","eventName","listener","useCap","elementAddEventListener","removeEventListener","elementRemoveEventListener","delegate","callback","ctx","handler","node","srcElement","delegateTarget","parentNode","unbubblebles","indexOf","domEvents","undelegate","handlers","slice","len","item","match","splice","classList","split","contains","trim","add","unique","remove","_split","classNames","index","_i","_ii","hasClass","reg","RegExp","test","selectionStart","document","selection","focus","sel","createRange","selLen","text","moveStart","transitionEnd","fn","duration","_events","transitionEndEvent","animationEnd","animationEndEvent","tag","attr","setAttribute","ElementProto","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","nodeList","attachEvent","detachEvent","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","style","WebkitAnimation","MozAnimation","OAnimation","animation","domReady","_listener","fns","doc","hack","documentElement","doScroll","domContentLoaded","readyState","shift","setTimeout","_defineProperty","parseHTML","parsed","singleTag","exec","div","element","firstChild","dom","isArray","_elements","n","str","reduce","isObject","_html","String","parentElement","removeChild","cloneNode","_query","context","els","HTMLElement","find","NodeList","imageLoaded","img","timeout","retries","Promise","resolve","reject","LoadedImage","check","err","isLoaded","dom_1","__resolved","isComplete","getIsImageComplete","confirm","naturalWidth","retry","onload","msg","complete","method","type","unbindEvents","error","utils_1","validator_1","_name","setValue","defaultValue","getValue","equal","_views_1$View2","_BaseEditor","_prev","keyup","change","template","data","throwOnNotFound","replace","pattern","token","path","lookup","undef","isCheckbox","isRadio","isRadioOrCheckbox","hasValue","isInput","isSelect","Boolean","checked","_value","parseInt","isNaN","start","end","get_validations","keys","validators","messages","vals","required","ValidateErrors","ValidateError","arg","setMessage","validator","registerValidator","validURL","min","max","email","url","oval","isUri","validate_email","valid","tester","parts","domainParts","some","part","_Error","_Error2","process","useColors","window","firebug","exception","table","navigator","userAgent","$1","formatArgs","namespace","humanize","diff","color","lastC","save","namespaces","storage","removeItem","load","env","DEBUG","localstorage","localStorage","chrome","local","colors","formatters","j","JSON","stringify","enable","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","array","noop","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","selectColor","hash","charCodeAt","Math","abs","createDebug","enabled","curr","Date","ms","prevTime","prev","coerce","unshift","format","formatter","val","logFn","bind","init","skips","substr","names","disable","stack","default","parse","parseFloat","y","h","s","fmtShort","round","fmtLong","plural","floor","ceil","long","is_iri","splitted","scheme","authority","fragment","splitUri","is_http_iri","allowHttps","port","is_https_iri","is_web_iri","is_uri","is_http_uri","is_https_uri","is_web_uri","isHttpUri","isHttpsUri","isWebUri","uri","webpackPolyfill","deprecate","paths","children","_editors","AutoSizer","_onChange","_onPageResize","_initInitialSize","clientWidth","_state","_updateSize","getComputedStyle","heightOffset","resize","boxSizing","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","overflowY","width","offsetWidth","_resize","htmlTop","pageYOffset","bodyTop","body","scrollTop","originalHeight","height","endHeight","scrollHeight","startHeight","_changeOverflow","TextArea","_editor_1$BaseEditor","autoSize","_autoSizer","overflowX","wordWrap","rows","update"],"mappings":"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","file":"views.form.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"views\"), require(\"orange\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"views\", \"orange\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"form\"] = factory(require(\"views\"), require(\"orange\"));\n\telse\n\t\troot[\"views\"] = root[\"views\"] || {}, root[\"views\"][\"form\"] = factory(root[\"views\"], root[\"orange\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction __export(m) {\n\t    for (var p in m) {\n\t        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t}\n\t__export(__webpack_require__(1));\n\tvar define_1 = __webpack_require__(18);\n\texports.editor = define_1.editor;\n\tvar editor_1 = __webpack_require__(9);\n\texports.BaseEditor = editor_1.BaseEditor;\n\texports.BaseLayoutEditor = editor_1.BaseLayoutEditor;\n\tvar field_1 = __webpack_require__(3);\n\texports.Field = field_1.Field;\n\t__export(__webpack_require__(11));\n\t__webpack_require__(19);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n\t    var c = arguments.length,\n\t        r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n\t        d;\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n\t        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    }return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = undefined && undefined.__metadata || function (k, v) {\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar views_1 = __webpack_require__(2);\n\tvar field_1 = __webpack_require__(3);\n\tvar orange_1 = __webpack_require__(4);\n\tvar Debug = __webpack_require__(12);\n\tvar debug = Debug('views:form');\n\tvar Form = function (_views_1$View) {\n\t    _inherits(Form, _views_1$View);\n\t\n\t    function Form(options) {\n\t        _classCallCheck(this, Form);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Form.__proto__ || Object.getPrototypeOf(Form)).call(this, options));\n\t\n\t        _this._fields = [];\n\t        _this._isRendered = false;\n\t        options = options || {};\n\t        _this._options = orange_1.extend({}, {\n\t            createHelpAreas: false,\n\t            validateOnChange: true,\n\t            fields: {},\n\t            fieldSelector: '.field'\n\t        }, options);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Form, [{\n\t        key: \"getFieldByName\",\n\t        value: function getFieldByName(name) {\n\t            for (var i = 0, ii = this.fields.length; i < ii; i++) {\n\t                if (this.fields[i].name === name) return this.fields[i];\n\t            }\n\t            return null;\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            this._isRendered = false;\n\t            if (!options.silent) this.triggerMethod('before:render');\n\t            this.undelegateEvents();\n\t            this.renderTemplate(this.getTemplateData());\n\t            this._renderFields();\n\t            this.delegateEvents();\n\t            this._isRendered = true;\n\t            if (!options.silent) this.triggerMethod('render');\n\t            this._setValue(this.model);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"update\",\n\t        value: function update() {\n\t            if (this.model == null) return this;\n\t            this._model.set(this.value);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"setModel\",\n\t        value: function setModel(model) {\n\t            if (model === this.model) return;\n\t            _get(Form.prototype.__proto__ || Object.getPrototypeOf(Form.prototype), \"setModel\", this).call(this, model);\n\t            this._setValue(model);\n\t            if (model != null) this.listenTo(model, 'change', this._onModelValueChange);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"validate\",\n\t        value: function validate() {\n\t            return this.fields.map(function (m) {\n\t                return m.validate();\n\t            }).filter(function (m) {\n\t                return m != null;\n\t            });\n\t        }\n\t    }, {\n\t        key: \"clear\",\n\t        value: function clear() {\n\t            if (!this._fields) return this;\n\t            this._fields.forEach(function (f) {\n\t                return f.clear();\n\t            });\n\t        }\n\t    }, {\n\t        key: \"_setValue\",\n\t        value: function _setValue(model) {\n\t            var _this2 = this;\n\t\n\t            if (!this._isRendered) {\n\t                //this.once('render', () => this._setValue(model))\n\t                return;\n\t            }\n\t            this.clear();\n\t            if (model != null) {\n\t                this.fields.forEach(function (m) {\n\t                    if (model.get(m.name) !== undefined) {\n\t                        m.editor.value = model.get(m.name);\n\t                    } else {\n\t                        _this2.model.set(m.name, m.editor.value, { silent: true });\n\t                    }\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: \"_renderFields\",\n\t        value: function _renderFields() {\n\t            var _this3 = this;\n\t\n\t            this.triggerMethod('before:render:fields');\n\t            this._fields.forEach(function (f) {\n\t                _this3.stopListening(f);\n\t                f.destroy();\n\t            });\n\t            this._fields = [];\n\t            var fields = this.el.querySelectorAll(this.options.fieldSelector);\n\t            debug('found %i fields', fields.length);\n\t            var errors = [],\n\t                field;\n\t            for (var i = 0, ii = fields.length; i < ii; i++) {\n\t                try {\n\t                    var e = fields[i].querySelector('[name]');\n\t                    var name = \"\";\n\t                    if (e) name = e.getAttribute('name');\n\t                    var o = orange_1.extend({\n\t                        createHelpArea: this.options.createHelpAreas || false\n\t                    }, this.options.fields[name] || {}, {\n\t                        form: this\n\t                    });\n\t                    debug('create field: %s', name);\n\t                    field = field_1.Field.createField(fields[i], o);\n\t                    this._fields.push(field);\n\t                    //this.listenTo(field, 'all', this._onFieldEventTriggered);\n\t                    this.listenTo(field, 'change', this._onFieldValueChanged);\n\t                } catch (e) {\n\t                    errors.push(e);\n\t                }\n\t            }\n\t            this._fields.forEach(function (m) {\n\t                m.render();\n\t            });\n\t            if (errors.length) {\n\t                this.triggerMethod('render:fields:error', errors);\n\t            }\n\t            this.triggerMethod('render:fields');\n\t        }\n\t    }, {\n\t        key: \"_onModelValueChange\",\n\t        value: function _onModelValueChange(model) {\n\t            for (var key in model.changed) {\n\t                var field = this.getFieldByName(key);\n\t                if (field == null) continue;\n\t                field.editor.value = model.get(key);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"_onFieldValueChanged\",\n\t        value: function _onFieldValueChanged(field) {\n\t            this.trigger('change');\n\t            if (this.options.validateOnChange) {\n\t                if (field.validate()) {\n\t                    return;\n\t                }\n\t                ;\n\t            }\n\t            if (this.model) this.model.set(field.name, field.editor.value);\n\t        }\n\t    }, {\n\t        key: \"_onFieldEventTriggered\",\n\t        value: function _onFieldEventTriggered(event, field) {\n\t            console.log(event);\n\t            if (event === \"change\") {\n\t                this.trigger('change');\n\t                if (this.options.validateOnChange) {\n\t                    if (field.validate()) {\n\t                        return;\n\t                    }\n\t                    ;\n\t                }\n\t                if (this.model) this.model.set(field.name, field.editor.value);\n\t            }\n\t\n\t            for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t                args[_key - 2] = arguments[_key];\n\t            }\n\t\n\t            this.triggerMethod.apply(this, ['field:' + event, field].concat(args));\n\t        }\n\t    }, {\n\t        key: \"destroy\",\n\t        value: function destroy() {\n\t            this._fields.forEach(function (f) {\n\t                return f.destroy();\n\t            });\n\t            this._fields = [];\n\t            return _get(Form.prototype.__proto__ || Object.getPrototypeOf(Form.prototype), \"destroy\", this).call(this);\n\t        }\n\t    }, {\n\t        key: \"options\",\n\t        get: function get() {\n\t            return this._options;\n\t        }\n\t    }, {\n\t        key: \"fields\",\n\t        get: function get() {\n\t            return [].concat(this._fields);\n\t        }\n\t    }, {\n\t        key: \"value\",\n\t        get: function get() {\n\t            var out = {};\n\t            this.fields.forEach(function (f) {\n\t                out[f.name] = f.value;\n\t            });\n\t            return out;\n\t        },\n\t        set: function set(value) {\n\t            if (value == null) {\n\t                this.fields.forEach(function (m) {\n\t                    return m.editor.clear();\n\t                });\n\t            } else {\n\t                this.fields.forEach(function (m) {\n\t                    if (value[m.name] !== undefined) {\n\t                        m.editor.value = value[m.name];\n\t                    }\n\t                });\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Form;\n\t}(views_1.View);\n\tForm = __decorate([views_1.attributes({\n\t    tagName: 'form',\n\t    events: {}\n\t}), __metadata(\"design:paramtypes\", [Object])], Form);\n\texports.Form = Form;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n\t    var c = arguments.length,\n\t        r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n\t        d;\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n\t        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    }return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = undefined && undefined.__metadata || function (k, v) {\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar views_1 = __webpack_require__(2);\n\tvar orange_1 = __webpack_require__(4);\n\tvar orange_dom_1 = __webpack_require__(5);\n\tvar editor_1 = __webpack_require__(9);\n\tvar define_1 = __webpack_require__(18);\n\tvar Debug = __webpack_require__(12);\n\tvar debug = Debug('views:form:field');\n\tvar Field = Field_1 = function (_views_1$View) {\n\t    _inherits(Field, _views_1$View);\n\t\n\t    function Field(options) {\n\t        _classCallCheck(this, Field);\n\t\n\t        if (options == null) throw new Error('field options required');\n\t        if (options.form == null) throw new Error('form required');\n\t\n\t        var _this = _possibleConstructorReturn(this, (Field.__proto__ || Object.getPrototypeOf(Field)).call(this, options));\n\t\n\t        _this._options = options;\n\t        _this._form = options.form;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Field, [{\n\t        key: \"clear\",\n\t        value: function clear() {\n\t            if (this.editor) this.editor.clear();\n\t            orange_dom_1.removeClass(this.el, 'has-success has-error');\n\t            orange_dom_1.Html.query('.form-field-helparea').html('');\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t            if (!options.silent) this.triggerMethod('before:render');\n\t            this.undelegateEvents();\n\t            this.renderTemplate(this.getTemplateData());\n\t            if (!this._editor) {\n\t                var el = this.el.querySelector('[name]');\n\t                if (!el) {\n\t                    throw new Error('no editor or no input with name attribute');\n\t                }\n\t                var editorType = el.getAttribute('form-editor');\n\t                var o = orange_1.extend({\n\t                    label: this.label\n\t                }, this._options || {}, {\n\t                    el: el\n\t                });\n\t                var name = el.getAttribute('name');\n\t                if (editorType) {\n\t                    var editor = define_1.getEditor(editorType, o);\n\t                    if (editor) {\n\t                        debug('%s: found custom editor type: %s', name, editorType);\n\t                        this.editor = editor;\n\t                    }\n\t                }\n\t                if (this.editor == null) {\n\t                    var _editor = define_1.getEditor(el.nodeName.toLowerCase(), o);\n\t                    if (_editor) {\n\t                        debug('%s: found custom editor type from tag: %s', name, el.nodeName.toLowerCase());\n\t                        this.editor = _editor;\n\t                    } else {\n\t                        this.editor = new editor_1.Editor(o);\n\t                    }\n\t                }\n\t            }\n\t            if (this._options.createHelpArea) this.createHelpArea();\n\t            this.editor.render();\n\t            this.delegateEvents();\n\t            if (!options.silent) this.triggerMethod('render');\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"createHelpArea\",\n\t        value: function createHelpArea() {\n\t            var helpArea = this.el.querySelector('.form-field-helparea');\n\t            if (helpArea) {\n\t                return;\n\t            }\n\t            debug('%s: creating help area', this.name);\n\t            this.triggerMethod('before:helparea');\n\t            helpArea = orange_dom_1.createElement(\"div\", {\n\t                class: \"form-field-helparea\"\n\t            });\n\t            /*if (this.editor) {\n\t                this.el.insertBefore(helpArea, this.editor.el);\n\t            } else {*/\n\t            this.el.appendChild(helpArea);\n\t            //}\n\t        }\n\t    }, {\n\t        key: \"validate\",\n\t        value: function validate() {\n\t            if (!this.editor) return null;\n\t            var el = orange_dom_1.Html.query(this.el);\n\t            var e = this.editor.validate(this._form);\n\t            var helpArea = this.el.querySelector('.form-field-helparea');\n\t            if (e == null) {\n\t                el.addClass('has-success').removeClass('has-error');\n\t                if (helpArea) helpArea.innerHTML = '';\n\t                return;\n\t            }\n\t            el.addClass('has-error').removeClass('has-success');\n\t            if (helpArea) {\n\t                var html = void 0;\n\t                if (e.errors.length === 1) {\n\t                    html = \"<span>\" + e.errors[0].message + \"</span>\";\n\t                } else {\n\t                    var m = e.errors.map(function (m) {\n\t                        return \"<li>\" + m.message + \"</li>\";\n\t                    }).join('');\n\t                    html = \"<ul>\" + m + \"</ul>\";\n\t                }\n\t                helpArea.innerHTML = html;\n\t            }\n\t            return e;\n\t        }\n\t    }, {\n\t        key: \"_onEditorChange\",\n\t        value: function _onEditorChange() {\n\t            this.triggerMethod('change', this);\n\t        }\n\t    }, {\n\t        key: \"name\",\n\t        get: function get() {\n\t            if (this._editor) return this._editor.name;\n\t            return \"\";\n\t        }\n\t    }, {\n\t        key: \"label\",\n\t        get: function get() {\n\t            if (!this._label) {\n\t                var label = this._editor ? this._editor.label : null;\n\t                if (!label) {\n\t                    var el = this.el.querySelector('form-field-label');\n\t                    if (!el) {\n\t                        el = this.el.querySelector('label');\n\t                    }\n\t                    if (el) label = el.textContent;\n\t                }\n\t                this._label = label || this.name;\n\t            }\n\t            return this._label;\n\t        }\n\t    }, {\n\t        key: \"value\",\n\t        get: function get() {\n\t            if (this.editor) return this.editor.value;\n\t            return null;\n\t        },\n\t        set: function set(value) {\n\t            if (this.editor) this.editor.value = value;\n\t        }\n\t    }, {\n\t        key: \"editor\",\n\t        set: function set(editor) {\n\t            if (this._editor) {\n\t                this.stopListening(this._editor);\n\t                this._editor.destroy();\n\t            }\n\t            this._editor = editor;\n\t            if (editor == null) {\n\t                return;\n\t            }\n\t            this.listenTo(editor, 'change', this._onEditorChange);\n\t            /*this.listenTo(editor, 'all', (event:string, ...args:any[]) => {\n\t                if (event == 'change') return;\n\t                args = (args || []);\n\t                args.unshift(this);\n\t                this.triggerMethod(event, ...args);\n\t            })*/\n\t        },\n\t        get: function get() {\n\t            return this._editor;\n\t        }\n\t    }], [{\n\t        key: \"createField\",\n\t        value: function createField(el, options) {\n\t            var elm = el.querySelector('[name]');\n\t            if (elm == null) throw new Error(\"field doest not contain an element\");\n\t            var o = orange_1.extend({}, options || {}, {\n\t                el: el\n\t            });\n\t            return new Field_1(o);\n\t        }\n\t    }]);\n\t\n\t    return Field;\n\t}(views_1.View);\n\tField = Field_1 = __decorate([views_1.attributes({\n\t    tagName: 'div',\n\t    className: 'form-field'\n\t}), __metadata(\"design:paramtypes\", [Object])], Field);\n\texports.Field = Field;\n\tvar Field_1;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction __export(m) {\n\t    for (var p in m) {\n\t        if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t}\n\t__export(__webpack_require__(6));\n\t__export(__webpack_require__(7));\n\t__export(__webpack_require__(8));\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t// TODO: CreateHTML\n\t\n\tvar orange_1 = __webpack_require__(4);\n\tvar ElementProto = typeof Element !== 'undefined' && Element.prototype || {};\n\tvar matchesSelector = ElementProto.matches || ElementProto.webkitMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.msMatchesSelector || ElementProto.oMatchesSelector || function (selector) {\n\t    var nodeList = (this.parentNode || document).querySelectorAll(selector) || [];\n\t    return !!~orange_1.indexOf(nodeList, this);\n\t};\n\tvar elementAddEventListener = ElementProto.addEventListener || function (eventName, listener) {\n\t    return this.attachEvent('on' + eventName, listener);\n\t};\n\tvar elementRemoveEventListener = ElementProto.removeEventListener || function (eventName, listener) {\n\t    return this.detachEvent('on' + eventName, listener);\n\t};\n\tvar transitionEndEvent = function transitionEnd() {\n\t    var el = document.createElement('bootstrap');\n\t    var transEndEventNames = {\n\t        'WebkitTransition': 'webkitTransitionEnd',\n\t        'MozTransition': 'transitionend',\n\t        'OTransition': 'oTransitionEnd otransitionend',\n\t        'transition': 'transitionend'\n\t    };\n\t    for (var name in transEndEventNames) {\n\t        if (el.style[name] !== undefined) {\n\t            return transEndEventNames[name];\n\t        }\n\t    }\n\t    return null;\n\t};\n\tvar animationEndEvent = function animationEnd() {\n\t    var el = document.createElement('bootstrap');\n\t    var transEndEventNames = {\n\t        'WebkitAnimation': 'webkitAnimationEnd',\n\t        'MozAnimation': 'animationend',\n\t        'OAnimation': 'oAnimationEnd oanimationend',\n\t        'animation': 'animationend'\n\t    };\n\t    for (var name in transEndEventNames) {\n\t        if (el.style[name] !== undefined) {\n\t            return transEndEventNames[name];\n\t        }\n\t    }\n\t    return null;\n\t};\n\tfunction matches(elm, selector) {\n\t    return matchesSelector.call(elm, selector);\n\t}\n\texports.matches = matches;\n\tfunction addEventListener(elm, eventName, listener) {\n\t    var useCap = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    elementAddEventListener.call(elm, eventName, listener, useCap);\n\t}\n\texports.addEventListener = addEventListener;\n\tfunction removeEventListener(elm, eventName, listener) {\n\t    elementRemoveEventListener.call(elm, eventName, listener);\n\t}\n\texports.removeEventListener = removeEventListener;\n\tvar unbubblebles = 'focus blur change load error'.split(' ');\n\tvar domEvents = [];\n\tfunction delegate(elm, selector, eventName, callback, ctx) {\n\t    var root = elm;\n\t    var handler = function handler(e) {\n\t        var node = e.target || e.srcElement;\n\t        // Already handled\n\t        if (e.delegateTarget) return;\n\t        for (; node && node != root; node = node.parentNode) {\n\t            if (matches(node, selector)) {\n\t                e.delegateTarget = node;\n\t                callback(e);\n\t            }\n\t        }\n\t    };\n\t    var useCap = !!~unbubblebles.indexOf(eventName);\n\t    addEventListener(elm, eventName, handler, useCap);\n\t    domEvents.push({ eventName: eventName, handler: handler, listener: callback, selector: selector });\n\t    return handler;\n\t}\n\texports.delegate = delegate;\n\tfunction undelegate(elm, selector, eventName, callback) {\n\t    /*if (typeof selector === 'function') {\n\t        listener = <Function>selector;\n\t        selector = null;\n\t      }*/\n\t    var handlers = domEvents.slice();\n\t    for (var i = 0, len = handlers.length; i < len; i++) {\n\t        var item = handlers[i];\n\t        var match = item.eventName === eventName && (callback ? item.listener === callback : true) && (selector ? item.selector === selector : true);\n\t        if (!match) continue;\n\t        removeEventListener(elm, item.eventName, item.handler);\n\t        domEvents.splice(orange_1.indexOf(handlers, item), 1);\n\t    }\n\t}\n\texports.undelegate = undelegate;\n\tfunction addClass(elm, className) {\n\t    if (elm.classList) {\n\t        var split = className.split(' ');\n\t        for (var i = 0, ii = split.length; i < ii; i++) {\n\t            if (elm.classList.contains(split[i].trim())) continue;\n\t            elm.classList.add(split[i].trim());\n\t        }\n\t    } else {\n\t        elm.className = orange_1.unique(elm.className.split(' ').concat(className.split(' '))).join(' ');\n\t    }\n\t}\n\texports.addClass = addClass;\n\tfunction removeClass(elm, className) {\n\t    if (elm.classList) {\n\t        var split = className.split(' ');\n\t        for (var i = 0, ii = split.length; i < ii; i++) {\n\t            elm.classList.remove(split[i].trim());\n\t        }\n\t    } else {\n\t        var _split = elm.className.split(' '),\n\t            classNames = className.split(' '),\n\t            tmp = _split,\n\t            index = void 0;\n\t        for (var _i = 0, _ii = classNames.length; _i < _ii; _i++) {\n\t            index = _split.indexOf(classNames[_i]);\n\t            if (!!~index) _split = _split.splice(index, 1);\n\t        }\n\t    }\n\t}\n\texports.removeClass = removeClass;\n\tfunction hasClass(elm, className) {\n\t    if (elm.classList) {\n\t        return elm.classList.contains(className);\n\t    }\n\t    var reg = new RegExp('\\b' + className);\n\t    return reg.test(elm.className);\n\t}\n\texports.hasClass = hasClass;\n\tfunction selectionStart(elm) {\n\t    if ('selectionStart' in elm) {\n\t        // Standard-compliant browsers\n\t        return elm.selectionStart;\n\t    } else if (document.selection) {\n\t        // IE\n\t        elm.focus();\n\t        var sel = document.selection.createRange();\n\t        var selLen = document.selection.createRange().text.length;\n\t        sel.moveStart('character', -elm.value.length);\n\t        return sel.text.length - selLen;\n\t    }\n\t}\n\texports.selectionStart = selectionStart;\n\tvar _events = {\n\t    animationEnd: null,\n\t    transitionEnd: null\n\t};\n\tfunction transitionEnd(elm, fn, ctx, duration) {\n\t    var event = _events.transitionEnd || (_events.transitionEnd = transitionEndEvent());\n\t    var callback = function callback(e) {\n\t        removeEventListener(elm, event, callback);\n\t        fn.call(ctx, e);\n\t    };\n\t    addEventListener(elm, event, callback);\n\t}\n\texports.transitionEnd = transitionEnd;\n\tfunction animationEnd(elm, fn, ctx, duration) {\n\t    var event = _events.animationEnd || (_events.animationEnd = animationEndEvent());\n\t    var callback = function callback(e) {\n\t        removeEventListener(elm, event, callback);\n\t        fn.call(ctx, e);\n\t    };\n\t    addEventListener(elm, event, callback);\n\t}\n\texports.animationEnd = animationEnd;\n\texports.domReady = function () {\n\t    var fns = [],\n\t        _listener,\n\t        doc = document,\n\t        hack = doc.documentElement.doScroll,\n\t        domContentLoaded = 'DOMContentLoaded',\n\t        loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState);\n\t    if (!loaded) {\n\t        doc.addEventListener(domContentLoaded, _listener = function listener() {\n\t            doc.removeEventListener(domContentLoaded, _listener);\n\t            loaded = true;\n\t            while (_listener = fns.shift()) {\n\t                _listener();\n\t            }\n\t        });\n\t    }\n\t    return function (fn) {\n\t        loaded ? setTimeout(fn, 0) : fns.push(fn);\n\t    };\n\t}();\n\tfunction createElement(tag, attr) {\n\t    var elm = document.createElement(tag);\n\t    if (attr) {\n\t        for (var key in attr) {\n\t            elm.setAttribute(key, attr[key]);\n\t        }\n\t    }\n\t    return elm;\n\t}\n\texports.createElement = createElement;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar orange_1 = __webpack_require__(4);\n\tvar dom = __webpack_require__(6);\n\tvar domEvents;\n\tvar singleTag = /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;\n\tfunction parseHTML(html) {\n\t    var parsed = singleTag.exec(html);\n\t    if (parsed) {\n\t        return document.createElement(parsed[0]);\n\t    }\n\t    var div = document.createElement('div');\n\t    div.innerHTML = html;\n\t    var element = div.firstChild;\n\t    return element;\n\t}\n\t\n\tvar Html = function () {\n\t    function Html(el) {\n\t        _classCallCheck(this, Html);\n\t\n\t        if (!Array.isArray(el)) el = [el];\n\t        this._elements = el || [];\n\t    }\n\t\n\t    _createClass(Html, [{\n\t        key: 'get',\n\t        value: function get(n) {\n\t            n = n === undefined ? 0 : n;\n\t            return n >= this.length ? undefined : this._elements[n];\n\t        }\n\t    }, {\n\t        key: 'addClass',\n\t        value: function addClass(str) {\n\t            return this.forEach(function (e) {\n\t                dom.addClass(e, str);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeClass',\n\t        value: function removeClass(str) {\n\t            return this.forEach(function (e) {\n\t                dom.removeClass(e, str);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasClass',\n\t        value: function hasClass(str) {\n\t            return this._elements.reduce(function (p, c) {\n\t                return dom.hasClass(c, str);\n\t            }, false);\n\t        }\n\t    }, {\n\t        key: 'attr',\n\t        value: function attr(key, value) {\n\t            var attr = void 0;\n\t            if (typeof key === 'string' && value) {\n\t                attr = _defineProperty({}, key, value);\n\t            } else if (typeof key == 'string') {\n\t                if (this.length) return this.get(0).getAttribute(key);\n\t            } else if (orange_1.isObject(key)) {\n\t                attr = key;\n\t            }\n\t            return this.forEach(function (e) {\n\t                for (var k in attr) {\n\t                    e.setAttribute(k, attr[k]);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'text',\n\t        value: function text(str) {\n\t            if (arguments.length === 0) {\n\t                return this.length > 0 ? this.get(0).textContent : null;\n\t            }\n\t            return this.forEach(function (e) {\n\t                return e.textContent = str;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'html',\n\t        value: function html(_html) {\n\t            if (arguments.length === 0) {\n\t                return this.length > 0 ? this.get(0).innerHTML : null;\n\t            }\n\t            return this.forEach(function (e) {\n\t                return e.innerHTML = _html;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'css',\n\t        value: function css(attr, value) {\n\t            if (arguments.length === 2) {\n\t                return this.forEach(function (e) {\n\t                    if (attr in e.style) e.style[attr] = String(value);\n\t                });\n\t            } else {\n\t                return this.forEach(function (e) {\n\t                    for (var k in attr) {\n\t                        if (k in e.style) e.style[k] = String(attr[k]);\n\t                    }\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'parent',\n\t        value: function parent() {\n\t            var out = [];\n\t            this.forEach(function (e) {\n\t                if (e.parentElement) {\n\t                    out.push(e.parentElement);\n\t                }\n\t            });\n\t            return new Html(out);\n\t        }\n\t    }, {\n\t        key: 'remove',\n\t        value: function remove() {\n\t            return this.forEach(function (e) {\n\t                if (e.parentElement) e.parentElement.removeChild(e);\n\t            });\n\t        }\n\t    }, {\n\t        key: 'clone',\n\t        value: function clone() {\n\t            return new Html(this.map(function (m) {\n\t                return m.cloneNode();\n\t            }));\n\t        }\n\t    }, {\n\t        key: 'find',\n\t        value: function find(str) {\n\t            var out = [];\n\t            this.forEach(function (e) {\n\t                out = out.concat(orange_1.slice(e.querySelectorAll(str)));\n\t            });\n\t            return new Html(out);\n\t        }\n\t    }, {\n\t        key: 'map',\n\t        value: function map(fn) {\n\t            var out = new Array(this.length);\n\t            this.forEach(function (e, i) {\n\t                out[i] = fn(e, i);\n\t            });\n\t            return out;\n\t        }\n\t    }, {\n\t        key: 'forEach',\n\t        value: function forEach(fn) {\n\t            this._elements.forEach(fn);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'length',\n\t        get: function get() {\n\t            return this._elements.length;\n\t        }\n\t    }], [{\n\t        key: 'query',\n\t        value: function query(_query, context) {\n\t            if (typeof context === 'string') {\n\t                context = document.querySelectorAll(context);\n\t            }\n\t            var html = void 0;\n\t            var els = void 0;\n\t            if (typeof _query === 'string') {\n\t                if (_query.length > 0 && _query[0] === '<' && _query[_query.length - 1] === \">\" && _query.length >= 3) {\n\t                    return new Html([parseHTML(_query)]);\n\t                }\n\t                if (context) {\n\t                    if (context instanceof HTMLElement) {\n\t                        els = orange_1.slice(context.querySelectorAll(_query));\n\t                    } else {\n\t                        html = new Html(orange_1.slice(context));\n\t                        return html.find(_query);\n\t                    }\n\t                } else {\n\t                    els = orange_1.slice(document.querySelectorAll(_query));\n\t                }\n\t            } else if (_query && _query instanceof Element) {\n\t                els = [_query];\n\t            } else if (_query && _query instanceof NodeList) {\n\t                els = orange_1.slice(_query);\n\t            }\n\t            return new Html(els);\n\t        }\n\t    }]);\n\t\n\t    return Html;\n\t}();\n\t\n\texports.Html = Html;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar orange_1 = __webpack_require__(4);\n\tvar dom_1 = __webpack_require__(6);\n\t\n\tvar LoadedImage = function () {\n\t    function LoadedImage(img) {\n\t        var timeout = arguments.length <= 1 || arguments[1] === undefined ? 200 : arguments[1];\n\t        var retries = arguments.length <= 2 || arguments[2] === undefined ? 10 : arguments[2];\n\t\n\t        _classCallCheck(this, LoadedImage);\n\t\n\t        this.img = img;\n\t        this.timeout = timeout;\n\t        this.retries = retries;\n\t        this.__resolved = false;\n\t    }\n\t\n\t    _createClass(LoadedImage, [{\n\t        key: 'check',\n\t        value: function check(fn) {\n\t            var _this = this;\n\t\n\t            this.fn = fn;\n\t            var isComplete = this.getIsImageComplete();\n\t            if (isComplete) {\n\t                // report based on naturalWidth\n\t                this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n\t                return;\n\t            }\n\t            var retries = this.retries;\n\t            var retry = function retry() {\n\t                setTimeout(function () {\n\t                    if (_this.__resolved) return;\n\t                    if (_this.img.naturalWidth > 0) {\n\t                        _this.__resolved = true;\n\t                        return _this.onload(null);\n\t                    } else if (retries > 0) {\n\t                        retries--;\n\t                        retry();\n\t                    }\n\t                }, _this.timeout);\n\t            };\n\t            retry();\n\t            dom_1.addEventListener(this.img, 'load', this);\n\t            dom_1.addEventListener(this.img, 'error', this);\n\t        }\n\t    }, {\n\t        key: 'confirm',\n\t        value: function confirm(loaded, msg, err) {\n\t            this.__resolved = true;\n\t            this.isLoaded = loaded;\n\t            if (this.fn) this.fn(err);\n\t        }\n\t    }, {\n\t        key: 'getIsImageComplete',\n\t        value: function getIsImageComplete() {\n\t            return this.img.complete && this.img.naturalWidth !== undefined && this.img.naturalWidth !== 0;\n\t        }\n\t    }, {\n\t        key: 'handleEvent',\n\t        value: function handleEvent(e) {\n\t            var method = 'on' + event.type;\n\t            if (this[method]) {\n\t                this[method](event);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'onload',\n\t        value: function onload(e) {\n\t            this.confirm(true, 'onload');\n\t            this.unbindEvents();\n\t        }\n\t    }, {\n\t        key: 'onerror',\n\t        value: function onerror(e) {\n\t            this.confirm(false, 'onerror', new Error(e.error));\n\t            this.unbindEvents();\n\t        }\n\t    }, {\n\t        key: 'unbindEvents',\n\t        value: function unbindEvents() {\n\t            dom_1.removeEventListener(this.img, 'load', this);\n\t            dom_1.removeEventListener(this.img, 'error', this);\n\t            this.fn = void 0;\n\t        }\n\t    }]);\n\t\n\t    return LoadedImage;\n\t}();\n\t\n\tfunction imageLoaded(img, timeout, retries) {\n\t    return new orange_1.Promise(function (resolve, reject) {\n\t        var i = new LoadedImage(img, timeout, retries);\n\t        i.check(function (err) {\n\t            if (err) return reject(err);\n\t            resolve(i.isLoaded);\n\t        });\n\t    });\n\t}\n\texports.imageLoaded = imageLoaded;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n\t    var c = arguments.length,\n\t        r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n\t        d;\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n\t        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    }return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = undefined && undefined.__metadata || function (k, v) {\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar views_1 = __webpack_require__(2);\n\tvar utils_1 = __webpack_require__(10);\n\tvar validator_1 = __webpack_require__(11);\n\tvar orange_1 = __webpack_require__(4);\n\t\n\tvar BaseEditor = function (_views_1$View) {\n\t    _inherits(BaseEditor, _views_1$View);\n\t\n\t    function BaseEditor() {\n\t        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _classCallCheck(this, BaseEditor);\n\t\n\t        var _this = _possibleConstructorReturn(this, (BaseEditor.__proto__ || Object.getPrototypeOf(BaseEditor)).call(this, options));\n\t\n\t        _this.options = options;\n\t        if (options.label) _this._label = options.label;\n\t        if (options.name) _this._name = options.name;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(BaseEditor, [{\n\t        key: \"clear\",\n\t        value: function clear() {\n\t            this.triggerMethod('before:clear');\n\t            this.setValue(this.options.defaultValue ? this.options.defaultValue : null);\n\t            this.triggerMethod('clear');\n\t        }\n\t    }, {\n\t        key: \"validate\",\n\t        value: function validate(form) {\n\t            return validator_1.validate(form, this, this.value);\n\t        }\n\t    }, {\n\t        key: \"name\",\n\t        get: function get() {\n\t            if (!this._name) {\n\t                this._name = this.el.getAttribute('name');\n\t            }\n\t            return this._name;\n\t        }\n\t    }, {\n\t        key: \"value\",\n\t        get: function get() {\n\t            return this.getValue();\n\t        },\n\t        set: function set(value) {\n\t            if (orange_1.equal(value, this.getValue())) return;\n\t            this.setValue(value);\n\t        }\n\t    }, {\n\t        key: \"label\",\n\t        get: function get() {\n\t            if (!this._label && this.el) {\n\t                this._label = this.el.getAttribute('editor-label');\n\t            }\n\t            return this._label;\n\t        },\n\t        set: function set(label) {\n\t            this._label = label;\n\t        }\n\t    }]);\n\t\n\t    return BaseEditor;\n\t}(views_1.View);\n\t\n\texports.BaseEditor = BaseEditor;\n\t\n\tvar BaseLayoutEditor = function (_views_1$View2) {\n\t    _inherits(BaseLayoutEditor, _views_1$View2);\n\t\n\t    function BaseLayoutEditor(options) {\n\t        _classCallCheck(this, BaseLayoutEditor);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, (BaseLayoutEditor.__proto__ || Object.getPrototypeOf(BaseLayoutEditor)).call(this, options));\n\t\n\t        _this2.options = options;\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(BaseLayoutEditor, [{\n\t        key: \"clear\",\n\t        value: function clear() {\n\t            this.triggerMethod('before:clear');\n\t            this.setValue(this.options.defaultValue ? this.options.defaultValue : null);\n\t            this.triggerMethod('clear');\n\t        }\n\t    }, {\n\t        key: \"validate\",\n\t        value: function validate(form) {\n\t            return validator_1.validate(form, this, this.value);\n\t        }\n\t    }, {\n\t        key: \"name\",\n\t        get: function get() {\n\t            return this.el.getAttribute('name');\n\t        }\n\t    }, {\n\t        key: \"value\",\n\t        get: function get() {\n\t            return this.getValue();\n\t        },\n\t        set: function set(value) {\n\t            if (orange_1.equal(value, this.getValue())) return;\n\t            this.triggerMethod('before:set:value', value);\n\t            this.setValue(value);\n\t            this.triggerMethod('set:value', value);\n\t        }\n\t    }, {\n\t        key: \"label\",\n\t        get: function get() {\n\t            return this._label;\n\t        },\n\t        set: function set(label) {\n\t            this._label = label;\n\t        }\n\t    }]);\n\t\n\t    return BaseLayoutEditor;\n\t}(views_1.View);\n\t\n\texports.BaseLayoutEditor = BaseLayoutEditor;\n\tvar Editor = function (_BaseEditor) {\n\t    _inherits(Editor, _BaseEditor);\n\t\n\t    function Editor() {\n\t        _classCallCheck(this, Editor);\n\t\n\t        return _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Editor, [{\n\t        key: \"setValue\",\n\t        value: function setValue(value) {\n\t            utils_1.setValue(this.el, value);\n\t        }\n\t    }, {\n\t        key: \"getValue\",\n\t        value: function getValue() {\n\t            return utils_1.getValue(this.el);\n\t        }\n\t    }, {\n\t        key: \"_onKeyPress\",\n\t        value: function _onKeyPress(e) {\n\t            this._prev = this.getValue();\n\t            this.triggerMethod('change');\n\t        }\n\t    }, {\n\t        key: \"_onChange\",\n\t        value: function _onChange(e) {\n\t            if (orange_1.equal(this._prev, this.getValue())) return;\n\t            this._prev = this.getValue();\n\t            this.triggerMethod('change');\n\t        }\n\t    }, {\n\t        key: \"name\",\n\t        get: function get() {\n\t            return this.el.getAttribute('name');\n\t        }\n\t    }]);\n\t\n\t    return Editor;\n\t}(BaseEditor);\n\tEditor = __decorate([views_1.attributes({\n\t    tagName: 'input',\n\t    events: {\n\t        keyup: '_onKeyPress',\n\t        change: '_onChange'\n\t    }\n\t}), __metadata(\"design:paramtypes\", [])], Editor);\n\texports.Editor = Editor;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar start = \"<%\",\n\t    end = \"%>\",\n\t    path = \"[a-z0-9_$][\\\\.a-z0-9_]*\",\n\t    // e.g. config.person.name\n\tpattern = new RegExp(start + \"\\\\s*(\" + path + \")\\\\s*\" + end, \"gi\"),\n\t    undef = undefined;\n\tfunction template(template, data) {\n\t    var throwOnNotFound = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\n\t    return template.replace(pattern, function (tag, token) {\n\t        var path = token.split(\".\"),\n\t            len = path.length,\n\t            lookup = data,\n\t            i = 0;\n\t        for (; i < len; i++) {\n\t            lookup = lookup[path[i]];\n\t            // Property not found\n\t            if (lookup === undef) {\n\t                if (throwOnNotFound) {\n\t                    throw new Error(\"templ: '\" + path[i] + \"' not found in \" + tag);\n\t                } else {\n\t                    lookup = \"\";\n\t                }\n\t            }\n\t            // Return the required value\n\t            if (i === len - 1) {\n\t                return lookup;\n\t            }\n\t        }\n\t        return lookup;\n\t    });\n\t}\n\texports.template = template;\n\tfunction getValue(el, value) {\n\t    var node = el;\n\t    var isCheckbox = /checkbox/.test(node.type);\n\t    var isRadio = /radio/.test(node.type);\n\t    var isRadioOrCheckbox = isCheckbox || isRadio;\n\t    var hasValue = Object.prototype.hasOwnProperty.call(node, \"value\");\n\t    var isInput = hasValue || /input|textarea|checkbox/.test(node.nodeName.toLowerCase());\n\t    var isSelect = /select/i.test(node.nodeName);\n\t    if (arguments.length === 1) {\n\t        if (isCheckbox) {\n\t            return Boolean(node.checked);\n\t        } else if (isSelect) {\n\t            return node.value || \"\";\n\t        } else if (isInput) {\n\t            var _value = node.value || \"\";\n\t            if (node.type && node.type.toLowerCase() === 'number') {\n\t                _value = parseInt(_value);\n\t                _value = isNaN(_value) ? 0 : _value;\n\t            }\n\t            return _value;\n\t        } else {\n\t            return node.innerHTML || \"\";\n\t        }\n\t    }\n\t    if (value == null) {\n\t        value = \"\";\n\t    }\n\t    if (isRadioOrCheckbox) {\n\t        if (isRadio) {\n\t            if (String(value) === String(node.value)) {\n\t                node.checked = true;\n\t            }\n\t        } else {\n\t            node.checked = value;\n\t        }\n\t    } else if (String(value) !== getValue(el)) {\n\t        if (isInput || isSelect) {\n\t            node.value = value;\n\t        } else {\n\t            node.innerHTML = value;\n\t        }\n\t    }\n\t}\n\texports.getValue = getValue;\n\tfunction setValue(el, value) {\n\t    getValue(el, value);\n\t}\n\texports.setValue = setValue;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar utils_1 = __webpack_require__(10);\n\tvar orange_1 = __webpack_require__(4);\n\tvar Debug = __webpack_require__(12);\n\tvar debug = Debug('views:form:validator');\n\tvar validURL = __webpack_require__(16);\n\tfunction get_validations(el) {\n\t    var required;\n\t    var v = Object.keys(validators).map(function (e) {\n\t        // The required validator is getting handled elsewhere\n\t        if (e === 'required') return null;\n\t        var i = el.getAttribute('validate-' + e);\n\t        if (i == null) el.getAttribute(e);\n\t        if (i != null) return [validators[e], i, messages[e] || \"invalid\", e];\n\t        return null;\n\t    }).filter(function (e) {\n\t        return e !== null;\n\t    });\n\t    return v;\n\t}\n\tfunction validate(form, editor, value) {\n\t    var vals = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\t\n\t    var el = editor.el;\n\t    var v = get_validations(el),\n\t        name = editor.name,\n\t        //el.getAttribute('name'),\n\t    errors = [];\n\t    var required = el.getAttribute('required');\n\t    if (required == null) required = el.getAttribute('validate-required');\n\t    v = orange_1.unique(v.concat(vals));\n\t    if (required != null) {\n\t        debug(\"running 'required' validator on %s\", name);\n\t        if (!validators.required(name, form, value, null)) {\n\t            debug(\"'required' validator failed on %s\", name);\n\t            return new ValidateErrors([new ValidateError(utils_1.template(messages.required, {\n\t                name: name,\n\t                label: editor.label,\n\t                value: value,\n\t                arg: null\n\t            }))]);\n\t        }\n\t    } else if (value === null || value === \"\" || value === undefined) {\n\t        // Do not run validations, when the value is empty\n\t        return null;\n\t    }\n\t    for (var i = 0, ii = v.length; i < ii; i++) {\n\t        debug(\"running '%s' validator on %s\", v[i][3], name);\n\t        if (!v[i][0](name, form, value, v[i][1])) {\n\t            debug(\"'%s' validator failed on %s\", v[i][3], name);\n\t            var e = new ValidateError(utils_1.template(v[i][2], {\n\t                name: name,\n\t                value: value,\n\t                label: editor.label,\n\t                arg: v[i][1]\n\t            }));\n\t            errors.push(e);\n\t        }\n\t    }\n\t    if (errors.length) {\n\t        return new ValidateErrors(errors);\n\t    }\n\t    return null;\n\t}\n\texports.validate = validate;\n\tvar messages;\n\t(function (messages) {\n\t    messages.required = \"<b><% label %></b> is required\";\n\t    messages.min = \"<b><% label %></b> must be at least <% arg %>\";\n\t    messages.max = \"<b><% label %></b> must be a maximum of <% arg %>\";\n\t    messages.email = \"<b><% label %></b> is not an email\";\n\t    messages.url = \"<b><% label %></b> is not an url\";\n\t    messages.match = \"<b><% label %></b> does not match: <b><%arg%></b>\";\n\t})(messages || (messages = {}));\n\tvar validators;\n\t(function (validators) {\n\t    function required(name, form, value, arg) {\n\t        return !(value === \"\" || value === null || value === undefined);\n\t    }\n\t    validators.required = required;\n\t    function min(name, form, value, arg) {\n\t        var min = parseInt(arg);\n\t        // TODO: check in init\n\t        if (isNaN(min)) return;\n\t        if (typeof value === 'string') {\n\t            return value.length >= min;\n\t        } else if (Array.isArray(value)) {\n\t            return value.length >= min;\n\t        } else {\n\t            return parseInt(value) >= min;\n\t        }\n\t    }\n\t    validators.min = min;\n\t    function max(name, form, value, arg) {\n\t        var max = parseInt(arg);\n\t        // TODO: check in init\n\t        if (isNaN(max)) return;\n\t        if (typeof value === 'string') {\n\t            return value.length <= max;\n\t        } else if (Array.isArray(value)) {\n\t            return value.length <= max;\n\t        } else {\n\t            return parseInt(value) <= max;\n\t        }\n\t    }\n\t    validators.max = max;\n\t    function match(name, form, value, arg) {\n\t        var field = form.getFieldByName(arg);\n\t        if (!field) {\n\t            throw new Error(\"field: \" + arg + \" does not exists\");\n\t        }\n\t        var oval = field.editor.value;\n\t        return orange_1.equal(value, oval);\n\t    }\n\t    validators.match = match;\n\t    function url(name, form, value, arg) {\n\t        return validURL.isUri(value);\n\t    }\n\t    validators.url = url;\n\t    var tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\n\t    function email(name, form, value, arg) {\n\t        return validate_email(value);\n\t        // Thanks to:\n\t        // http://fightingforalostcause.net/misc/2006/compare-email-regex.php\n\t        // http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\n\t        // http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\n\t        function validate_email(email) {\n\t            if (!email) return false;\n\t            if (email.length > 254) return false;\n\t            var valid = tester.test(email);\n\t            if (!valid) return false;\n\t            // Further checking of some things regex can't handle\n\t            var parts = email.split(\"@\");\n\t            if (parts[0].length > 64) return false;\n\t            var domainParts = parts[1].split(\".\");\n\t            if (domainParts.some(function (part) {\n\t                return part.length > 63;\n\t            })) return false;\n\t            return true;\n\t        }\n\t    }\n\t    validators.email = email;\n\t})(validators = exports.validators || (exports.validators = {}));\n\tfunction setMessage(validator, message) {\n\t    messages[validator] = message;\n\t}\n\texports.setMessage = setMessage;\n\tfunction registerValidator(name, fn, message) {\n\t    validators[name] = fn;\n\t    if (message) {\n\t        messages[name] = message;\n\t    }\n\t}\n\texports.registerValidator = registerValidator;\n\t\n\tvar ValidateError = function (_Error) {\n\t    _inherits(ValidateError, _Error);\n\t\n\t    function ValidateError(message) {\n\t        _classCallCheck(this, ValidateError);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ValidateError.__proto__ || Object.getPrototypeOf(ValidateError)).call(this, message));\n\t\n\t        _this.message = message;\n\t        return _this;\n\t    }\n\t\n\t    return ValidateError;\n\t}(Error);\n\t\n\texports.ValidateError = ValidateError;\n\t\n\tvar ValidateErrors = function (_Error2) {\n\t    _inherits(ValidateErrors, _Error2);\n\t\n\t    _createClass(ValidateErrors, [{\n\t        key: \"length\",\n\t        get: function get() {\n\t            return this.errors.length;\n\t        }\n\t    }]);\n\t\n\t    function ValidateErrors() {\n\t        var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\n\t        _classCallCheck(this, ValidateErrors);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, (ValidateErrors.__proto__ || Object.getPrototypeOf(ValidateErrors)).call(this));\n\t\n\t        _this2.errors = errors;\n\t        return _this2;\n\t    }\n\t\n\t    return ValidateErrors;\n\t}(Error);\n\t\n\texports.ValidateErrors = ValidateErrors;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * This is the web browser implementation of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = __webpack_require__(14);\n\texports.log = log;\n\texports.formatArgs = formatArgs;\n\texports.save = save;\n\texports.load = load;\n\texports.useColors = useColors;\n\texports.storage = 'undefined' != typeof chrome\n\t               && 'undefined' != typeof chrome.storage\n\t                  ? chrome.storage.local\n\t                  : localstorage();\n\t\n\t/**\n\t * Colors.\n\t */\n\t\n\texports.colors = [\n\t  'lightseagreen',\n\t  'forestgreen',\n\t  'goldenrod',\n\t  'dodgerblue',\n\t  'darkorchid',\n\t  'crimson'\n\t];\n\t\n\t/**\n\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n\t * and the Firebug extension (any Firefox version) are known\n\t * to support \"%c\" CSS customizations.\n\t *\n\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\n\t */\n\t\n\tfunction useColors() {\n\t  // NB: In an Electron preload script, document will be defined but not fully\n\t  // initialized. Since we know we're in Chrome, we'll just detect this case\n\t  // explicitly\n\t  if (typeof window !== 'undefined' && typeof window.process !== 'undefined' && window.process.type === 'renderer') {\n\t    return true;\n\t  }\n\t\n\t  // is webkit? http://stackoverflow.com/a/16459606/376773\n\t  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t  return (typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style) ||\n\t    // is firebug? http://stackoverflow.com/a/398120/376773\n\t    (typeof window !== 'undefined' && window.console && (console.firebug || (console.exception && console.table))) ||\n\t    // is firefox >= v31?\n\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t    (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t    // double check webkit in userAgent just in case we are in a worker\n\t    (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n\t}\n\t\n\t/**\n\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n\t */\n\t\n\texports.formatters.j = function(v) {\n\t  try {\n\t    return JSON.stringify(v);\n\t  } catch (err) {\n\t    return '[UnexpectedJSONParseError]: ' + err.message;\n\t  }\n\t};\n\t\n\t\n\t/**\n\t * Colorize log arguments if enabled.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction formatArgs(args) {\n\t  var useColors = this.useColors;\n\t\n\t  args[0] = (useColors ? '%c' : '')\n\t    + this.namespace\n\t    + (useColors ? ' %c' : ' ')\n\t    + args[0]\n\t    + (useColors ? '%c ' : ' ')\n\t    + '+' + exports.humanize(this.diff);\n\t\n\t  if (!useColors) return;\n\t\n\t  var c = 'color: ' + this.color;\n\t  args.splice(1, 0, c, 'color: inherit')\n\t\n\t  // the final \"%c\" is somewhat tricky, because there could be other\n\t  // arguments passed either before or after the %c, so we need to\n\t  // figure out the correct index to insert the CSS into\n\t  var index = 0;\n\t  var lastC = 0;\n\t  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n\t    if ('%%' === match) return;\n\t    index++;\n\t    if ('%c' === match) {\n\t      // we only are interested in the *last* %c\n\t      // (the user may have provided their own)\n\t      lastC = index;\n\t    }\n\t  });\n\t\n\t  args.splice(lastC, 0, c);\n\t}\n\t\n\t/**\n\t * Invokes `console.log()` when available.\n\t * No-op when `console.log` is not a \"function\".\n\t *\n\t * @api public\n\t */\n\t\n\tfunction log() {\n\t  // this hackery is required for IE8/9, where\n\t  // the `console.log` function doesn't have 'apply'\n\t  return 'object' === typeof console\n\t    && console.log\n\t    && Function.prototype.apply.call(console.log, console, arguments);\n\t}\n\t\n\t/**\n\t * Save `namespaces`.\n\t *\n\t * @param {String} namespaces\n\t * @api private\n\t */\n\t\n\tfunction save(namespaces) {\n\t  try {\n\t    if (null == namespaces) {\n\t      exports.storage.removeItem('debug');\n\t    } else {\n\t      exports.storage.debug = namespaces;\n\t    }\n\t  } catch(e) {}\n\t}\n\t\n\t/**\n\t * Load `namespaces`.\n\t *\n\t * @return {String} returns the previously persisted debug modes\n\t * @api private\n\t */\n\t\n\tfunction load() {\n\t  try {\n\t    return exports.storage.debug;\n\t  } catch(e) {}\n\t\n\t  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\t  if (typeof process !== 'undefined' && 'env' in process) {\n\t    return process.env.DEBUG;\n\t  }\n\t}\n\t\n\t/**\n\t * Enable namespaces listed in `localStorage.debug` initially.\n\t */\n\t\n\texports.enable(load());\n\t\n\t/**\n\t * Localstorage attempts to return the localstorage.\n\t *\n\t * This is necessary because safari throws\n\t * when a user disables cookies/localstorage\n\t * and you attempt to access it.\n\t *\n\t * @return {LocalStorage}\n\t * @api private\n\t */\n\t\n\tfunction localstorage() {\n\t  try {\n\t    return window.localStorage;\n\t  } catch (e) {}\n\t}\n\t\n\t/** Attach to Window*/\n\tif (window) {\n\t  window.debug = exports;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\t(function () {\n\t    try {\n\t        cachedSetTimeout = setTimeout;\n\t    } catch (e) {\n\t        cachedSetTimeout = function () {\n\t            throw new Error('setTimeout is not defined');\n\t        }\n\t    }\n\t    try {\n\t        cachedClearTimeout = clearTimeout;\n\t    } catch (e) {\n\t        cachedClearTimeout = function () {\n\t            throw new Error('clearTimeout is not defined');\n\t        }\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * This is the common logic for both the Node.js and web browser\n\t * implementations of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = createDebug.debug = createDebug.default = createDebug;\n\texports.coerce = coerce;\n\texports.disable = disable;\n\texports.enable = enable;\n\texports.enabled = enabled;\n\texports.humanize = __webpack_require__(15);\n\t\n\t/**\n\t * The currently active debug mode names, and names to skip.\n\t */\n\t\n\texports.names = [];\n\texports.skips = [];\n\t\n\t/**\n\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t *\n\t * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t */\n\t\n\texports.formatters = {};\n\t\n\t/**\n\t * Previous log timestamp.\n\t */\n\t\n\tvar prevTime;\n\t\n\t/**\n\t * Select a color.\n\t * @param {String} namespace\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction selectColor(namespace) {\n\t  var hash = 0, i;\n\t\n\t  for (i in namespace) {\n\t    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t    hash |= 0; // Convert to 32bit integer\n\t  }\n\t\n\t  return exports.colors[Math.abs(hash) % exports.colors.length];\n\t}\n\t\n\t/**\n\t * Create a debugger with the given `namespace`.\n\t *\n\t * @param {String} namespace\n\t * @return {Function}\n\t * @api public\n\t */\n\t\n\tfunction createDebug(namespace) {\n\t\n\t  function debug() {\n\t    // disabled?\n\t    if (!debug.enabled) return;\n\t\n\t    var self = debug;\n\t\n\t    // set `diff` timestamp\n\t    var curr = +new Date();\n\t    var ms = curr - (prevTime || curr);\n\t    self.diff = ms;\n\t    self.prev = prevTime;\n\t    self.curr = curr;\n\t    prevTime = curr;\n\t\n\t    // turn the `arguments` into a proper Array\n\t    var args = new Array(arguments.length);\n\t    for (var i = 0; i < args.length; i++) {\n\t      args[i] = arguments[i];\n\t    }\n\t\n\t    args[0] = exports.coerce(args[0]);\n\t\n\t    if ('string' !== typeof args[0]) {\n\t      // anything else let's inspect with %O\n\t      args.unshift('%O');\n\t    }\n\t\n\t    // apply any `formatters` transformations\n\t    var index = 0;\n\t    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n\t      // if we encounter an escaped % then don't increase the array index\n\t      if (match === '%%') return match;\n\t      index++;\n\t      var formatter = exports.formatters[format];\n\t      if ('function' === typeof formatter) {\n\t        var val = args[index];\n\t        match = formatter.call(self, val);\n\t\n\t        // now we need to remove `args[index]` since it's inlined in the `format`\n\t        args.splice(index, 1);\n\t        index--;\n\t      }\n\t      return match;\n\t    });\n\t\n\t    // apply env-specific formatting (colors, etc.)\n\t    exports.formatArgs.call(self, args);\n\t\n\t    var logFn = debug.log || exports.log || console.log.bind(console);\n\t    logFn.apply(self, args);\n\t  }\n\t\n\t  debug.namespace = namespace;\n\t  debug.enabled = exports.enabled(namespace);\n\t  debug.useColors = exports.useColors();\n\t  debug.color = selectColor(namespace);\n\t\n\t  // env-specific initialization logic for debug instances\n\t  if ('function' === typeof exports.init) {\n\t    exports.init(debug);\n\t  }\n\t\n\t  return debug;\n\t}\n\t\n\t/**\n\t * Enables a debug mode by namespaces. This can include modes\n\t * separated by a colon and wildcards.\n\t *\n\t * @param {String} namespaces\n\t * @api public\n\t */\n\t\n\tfunction enable(namespaces) {\n\t  exports.save(namespaces);\n\t\n\t  var split = (namespaces || '').split(/[\\s,]+/);\n\t  var len = split.length;\n\t\n\t  for (var i = 0; i < len; i++) {\n\t    if (!split[i]) continue; // ignore empty strings\n\t    namespaces = split[i].replace(/\\*/g, '.*?');\n\t    if (namespaces[0] === '-') {\n\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t    } else {\n\t      exports.names.push(new RegExp('^' + namespaces + '$'));\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Disable debug output.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction disable() {\n\t  exports.enable('');\n\t}\n\t\n\t/**\n\t * Returns true if the given mode name is enabled, false otherwise.\n\t *\n\t * @param {String} name\n\t * @return {Boolean}\n\t * @api public\n\t */\n\t\n\tfunction enabled(name) {\n\t  var i, len;\n\t  for (i = 0, len = exports.skips.length; i < len; i++) {\n\t    if (exports.skips[i].test(name)) {\n\t      return false;\n\t    }\n\t  }\n\t  for (i = 0, len = exports.names.length; i < len; i++) {\n\t    if (exports.names[i].test(name)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Coerce `val`.\n\t *\n\t * @param {Mixed} val\n\t * @return {Mixed}\n\t * @api private\n\t */\n\t\n\tfunction coerce(val) {\n\t  if (val instanceof Error) return val.stack || val.message;\n\t  return val;\n\t}\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Helpers.\n\t */\n\t\n\tvar s = 1000\n\tvar m = s * 60\n\tvar h = m * 60\n\tvar d = h * 24\n\tvar y = d * 365.25\n\t\n\t/**\n\t * Parse or format the given `val`.\n\t *\n\t * Options:\n\t *\n\t *  - `long` verbose formatting [false]\n\t *\n\t * @param {String|Number} val\n\t * @param {Object} options\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\n\t * @return {String|Number}\n\t * @api public\n\t */\n\t\n\tmodule.exports = function (val, options) {\n\t  options = options || {}\n\t  var type = typeof val\n\t  if (type === 'string' && val.length > 0) {\n\t    return parse(val)\n\t  } else if (type === 'number' && isNaN(val) === false) {\n\t    return options.long ?\n\t\t\t\tfmtLong(val) :\n\t\t\t\tfmtShort(val)\n\t  }\n\t  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n\t}\n\t\n\t/**\n\t * Parse the given `str` and return milliseconds.\n\t *\n\t * @param {String} str\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction parse(str) {\n\t  str = String(str)\n\t  if (str.length > 10000) {\n\t    return\n\t  }\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n\t  if (!match) {\n\t    return\n\t  }\n\t  var n = parseFloat(match[1])\n\t  var type = (match[2] || 'ms').toLowerCase()\n\t  switch (type) {\n\t    case 'years':\n\t    case 'year':\n\t    case 'yrs':\n\t    case 'yr':\n\t    case 'y':\n\t      return n * y\n\t    case 'days':\n\t    case 'day':\n\t    case 'd':\n\t      return n * d\n\t    case 'hours':\n\t    case 'hour':\n\t    case 'hrs':\n\t    case 'hr':\n\t    case 'h':\n\t      return n * h\n\t    case 'minutes':\n\t    case 'minute':\n\t    case 'mins':\n\t    case 'min':\n\t    case 'm':\n\t      return n * m\n\t    case 'seconds':\n\t    case 'second':\n\t    case 'secs':\n\t    case 'sec':\n\t    case 's':\n\t      return n * s\n\t    case 'milliseconds':\n\t    case 'millisecond':\n\t    case 'msecs':\n\t    case 'msec':\n\t    case 'ms':\n\t      return n\n\t    default:\n\t      return undefined\n\t  }\n\t}\n\t\n\t/**\n\t * Short format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction fmtShort(ms) {\n\t  if (ms >= d) {\n\t    return Math.round(ms / d) + 'd'\n\t  }\n\t  if (ms >= h) {\n\t    return Math.round(ms / h) + 'h'\n\t  }\n\t  if (ms >= m) {\n\t    return Math.round(ms / m) + 'm'\n\t  }\n\t  if (ms >= s) {\n\t    return Math.round(ms / s) + 's'\n\t  }\n\t  return ms + 'ms'\n\t}\n\t\n\t/**\n\t * Long format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction fmtLong(ms) {\n\t  return plural(ms, d, 'day') ||\n\t    plural(ms, h, 'hour') ||\n\t    plural(ms, m, 'minute') ||\n\t    plural(ms, s, 'second') ||\n\t    ms + ' ms'\n\t}\n\t\n\t/**\n\t * Pluralization helper.\n\t */\n\t\n\tfunction plural(ms, n, name) {\n\t  if (ms < n) {\n\t    return\n\t  }\n\t  if (ms < n * 1.5) {\n\t    return Math.floor(ms / n) + ' ' + name\n\t  }\n\t  return Math.ceil(ms / n) + ' ' + name + 's'\n\t}\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {(function(module) {\n\t    'use strict';\n\t\n\t    module.exports.is_uri = is_iri;\n\t    module.exports.is_http_uri = is_http_iri;\n\t    module.exports.is_https_uri = is_https_iri;\n\t    module.exports.is_web_uri = is_web_iri;\n\t    // Create aliases\n\t    module.exports.isUri = is_iri;\n\t    module.exports.isHttpUri = is_http_iri;\n\t    module.exports.isHttpsUri = is_https_iri;\n\t    module.exports.isWebUri = is_web_iri;\n\t\n\t\n\t    // private function\n\t    // internal URI spitter method - direct from RFC 3986\n\t    var splitUri = function(uri) {\n\t        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n\t        return splitted;\n\t    };\n\t\n\t    function is_iri(value) {\n\t        if (!value) {\n\t            return;\n\t        }\n\t\n\t        // check for illegal characters\n\t        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\t\n\t        // check for hex escapes that aren't complete\n\t        if (/%[^0-9a-f]/i.test(value)) return;\n\t        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\t\n\t        var splitted = [];\n\t        var scheme = '';\n\t        var authority = '';\n\t        var path = '';\n\t        var query = '';\n\t        var fragment = '';\n\t        var out = '';\n\t\n\t        // from RFC 3986\n\t        splitted = splitUri(value);\n\t        scheme = splitted[1]; \n\t        authority = splitted[2];\n\t        path = splitted[3];\n\t        query = splitted[4];\n\t        fragment = splitted[5];\n\t\n\t        // scheme and path are required, though the path can be empty\n\t        if (!(scheme && scheme.length && path.length >= 0)) return;\n\t\n\t        // if authority is present, the path must be empty or begin with a /\n\t        if (authority && authority.length) {\n\t            if (!(path.length === 0 || /^\\//.test(path))) return;\n\t        } else {\n\t            // if authority is not present, the path must not start with //\n\t            if (/^\\/\\//.test(path)) return;\n\t        }\n\t\n\t        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n\t        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\t\n\t        // re-assemble the URL per section 5.3 in RFC 3986\n\t        out += scheme + ':';\n\t        if (authority && authority.length) {\n\t            out += '//' + authority;\n\t        }\n\t\n\t        out += path;\n\t\n\t        if (query && query.length) {\n\t            out += '?' + query;\n\t        }\n\t\n\t        if (fragment && fragment.length) {\n\t            out += '#' + fragment;\n\t        }\n\t\n\t        return out;\n\t    }\n\t\n\t    function is_http_iri(value, allowHttps) {\n\t        if (!is_iri(value)) {\n\t            return;\n\t        }\n\t\n\t        var splitted = [];\n\t        var scheme = '';\n\t        var authority = '';\n\t        var path = '';\n\t        var port = '';\n\t        var query = '';\n\t        var fragment = '';\n\t        var out = '';\n\t\n\t        // from RFC 3986\n\t        splitted = splitUri(value);\n\t        scheme = splitted[1]; \n\t        authority = splitted[2];\n\t        path = splitted[3];\n\t        query = splitted[4];\n\t        fragment = splitted[5];\n\t\n\t        if (!scheme)  return;\n\t\n\t        if(allowHttps) {\n\t            if (scheme.toLowerCase() != 'https') return;\n\t        } else {\n\t            if (scheme.toLowerCase() != 'http') return;\n\t        }\n\t\n\t        // fully-qualified URIs must have an authority section that is\n\t        // a valid host\n\t        if (!authority) {\n\t            return;\n\t        }\n\t\n\t        // enable port component\n\t        if (/:(\\d+)$/.test(authority)) {\n\t            port = authority.match(/:(\\d+)$/)[0];\n\t            authority = authority.replace(/:\\d+$/, '');\n\t        }\n\t\n\t        out += scheme + ':';\n\t        out += '//' + authority;\n\t        \n\t        if (port) {\n\t            out += port;\n\t        }\n\t        \n\t        out += path;\n\t        \n\t        if(query && query.length){\n\t            out += '?' + query;\n\t        }\n\t\n\t        if(fragment && fragment.length){\n\t            out += '#' + fragment;\n\t        }\n\t        \n\t        return out;\n\t    }\n\t\n\t    function is_https_iri(value) {\n\t        return is_http_iri(value, true);\n\t    }\n\t\n\t    function is_web_iri(value) {\n\t        return (is_http_iri(value) || is_https_iri(value));\n\t    }\n\t\n\t})(module);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)(module)))\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Debug = __webpack_require__(12);\n\tvar debug = Debug('views:form');\n\tvar _editors = {};\n\tfunction editor(name) {\n\t    return function (target) {\n\t        debug('register editor: %s', name);\n\t        _editors[name] = target;\n\t    };\n\t}\n\texports.editor = editor;\n\tfunction getEditor(name, options) {\n\t    if (_editors[name]) {\n\t        return new _editors[name](options);\n\t    }\n\t    return null;\n\t}\n\texports.getEditor = getEditor;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n\t    var c = arguments.length,\n\t        r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n\t        d;\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n\t        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    }return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = undefined && undefined.__metadata || function (k, v) {\n\t    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar orange_1 = __webpack_require__(4);\n\tvar orange_dom_1 = __webpack_require__(5);\n\tvar editor_1 = __webpack_require__(9);\n\tvar define_1 = __webpack_require__(18);\n\tvar views_1 = __webpack_require__(2);\n\t/**\n\t * Autosize a textarea on input\n\t */\n\t\n\tvar AutoSizer = function () {\n\t    function AutoSizer(el) {\n\t        _classCallCheck(this, AutoSizer);\n\t\n\t        this.el = el;\n\t        this._onChange = orange_1.bind(this._onChange, this);\n\t        this._onPageResize = orange_1.bind(this._onPageResize, this);\n\t        this._initInitialSize();\n\t    }\n\t\n\t    _createClass(AutoSizer, [{\n\t        key: \"_onPageResize\",\n\t        value: function _onPageResize() {\n\t            if (this.el.clientWidth !== this._state.clientWidth) {\n\t                this._updateSize();\n\t            }\n\t        }\n\t    }, {\n\t        key: \"_onChange\",\n\t        value: function _onChange() {\n\t            this._updateSize();\n\t        }\n\t    }, {\n\t        key: \"_initInitialSize\",\n\t        value: function _initInitialSize() {\n\t            var style = window.getComputedStyle(this.el, null);\n\t            var heightOffset = void 0;\n\t            if (style.resize === 'vertical') {\n\t                this.el.style.resize = 'none';\n\t            } else if (style.resize === 'both') {\n\t                this.el.style.resize = 'horizontal';\n\t            }\n\t            if (style.boxSizing === 'content-box') {\n\t                heightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t            } else {\n\t                heightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t            }\n\t            // Fix when a textarea is not on document body and heightOffset is Not a Number\n\t            if (isNaN(heightOffset)) {\n\t                heightOffset = 0;\n\t            }\n\t            this._state = {\n\t                overflowY: style.overflowY,\n\t                heightOffset: heightOffset,\n\t                clientWidth: this.el.clientWidth\n\t            };\n\t            orange_dom_1.addEventListener(this.el, 'keyup', this._onChange);\n\t            orange_dom_1.addEventListener(this.el, 'input', this._onChange);\n\t            orange_dom_1.addEventListener(window, 'resize', this._onPageResize);\n\t            this._updateSize();\n\t        }\n\t    }, {\n\t        key: \"_changeOverflow\",\n\t        value: function _changeOverflow(value) {\n\t            {\n\t                // Chrome/Safari-specific fix:\n\t                // When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t                // made available by removing the scrollbar. The following forces the necessary text reflow.\n\t                var width = this.el.style.width;\n\t                this.el.style.width = '0px';\n\t                // Force reflow:\n\t                /* jshint ignore:start */\n\t                this.el.offsetWidth;\n\t                /* jshint ignore:end */\n\t                this.el.style.width = width;\n\t            }\n\t            this._state.overflowY = value;\n\t            ///*if (setOverflowY) {\n\t            this.el.style.overflowY = value;\n\t            //}*/\n\t            this._resize();\n\t        }\n\t    }, {\n\t        key: \"_resize\",\n\t        value: function _resize() {\n\t            var htmlTop = window.pageYOffset;\n\t            var bodyTop = document.body.scrollTop;\n\t            var originalHeight = this.el.style.height;\n\t            this.el.style.height = 'auto';\n\t            var endHeight = this.el.scrollHeight + this._state.heightOffset;\n\t            if (this.el.scrollHeight === 0) {\n\t                // If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t                this.el.style.height = originalHeight;\n\t                return;\n\t            }\n\t            this.el.style.height = endHeight + 'px';\n\t            // used to check if an update is actually necessary on window.resize\n\t            this._state.clientWidth = this.el.clientWidth;\n\t            // prevents scroll-position jumping\n\t            document.documentElement.scrollTop = htmlTop;\n\t            document.body.scrollTop = bodyTop;\n\t        }\n\t    }, {\n\t        key: \"update\",\n\t        value: function update() {\n\t            this._updateSize();\n\t        }\n\t    }, {\n\t        key: \"_updateSize\",\n\t        value: function _updateSize() {\n\t            var startHeight = this.el.style.height;\n\t            this._resize();\n\t            var style = window.getComputedStyle(this.el, null);\n\t            if (style.height !== this.el.style.height) {\n\t                if (this._state.overflowY !== 'visible') {\n\t                    this._changeOverflow('visible');\n\t                }\n\t            } else {\n\t                if (this._state.overflowY !== 'hidden') {\n\t                    this._changeOverflow('hidden');\n\t                }\n\t            }\n\t            if (startHeight !== this.el.style.height) {}\n\t        }\n\t    }, {\n\t        key: \"destroy\",\n\t        value: function destroy() {\n\t            orange_dom_1.removeEventListener(this.el, 'keyup', this._onChange);\n\t            orange_dom_1.removeEventListener(this.el, 'input', this._onChange);\n\t            orange_dom_1.removeEventListener(window, 'resize', this._onPageResize);\n\t        }\n\t    }]);\n\t\n\t    return AutoSizer;\n\t}();\n\t\n\texports.AutoSizer = AutoSizer;\n\tvar TextArea = function (_editor_1$BaseEditor) {\n\t    _inherits(TextArea, _editor_1$BaseEditor);\n\t\n\t    function TextArea() {\n\t        _classCallCheck(this, TextArea);\n\t\n\t        return _possibleConstructorReturn(this, (TextArea.__proto__ || Object.getPrototypeOf(TextArea)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(TextArea, [{\n\t        key: \"render\",\n\t        value: function render(o) {\n\t            _get(TextArea.prototype.__proto__ || Object.getPrototypeOf(TextArea.prototype), \"render\", this).call(this, o);\n\t            var autoSize = this.el.getAttribute('autosize');\n\t            if (autoSize != null) {\n\t                if (this._autoSizer == null) {\n\t                    this._autoSizer = new AutoSizer(this.el);\n\t                    this.el.style.overflowX = 'hidden';\n\t                    this.el.style.wordWrap = 'break-word';\n\t                    this.el.rows = 1;\n\t                }\n\t            } else {\n\t                if (this._autoSizer) {\n\t                    this._autoSizer.destroy();\n\t                    this._autoSizer = void 0;\n\t                }\n\t            }\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"setValue\",\n\t        value: function setValue(value) {\n\t            this.el.value = value;\n\t            if (this._autoSizer) this._autoSizer.update();\n\t        }\n\t    }, {\n\t        key: \"getValue\",\n\t        value: function getValue() {\n\t            return this.el.value;\n\t        }\n\t    }, {\n\t        key: \"destroy\",\n\t        value: function destroy() {\n\t            if (this._autoSizer) {\n\t                this._autoSizer.destroy();\n\t                this._autoSizer = void 0;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return TextArea;\n\t}(editor_1.BaseEditor);\n\tTextArea = __decorate([define_1.editor('textarea'), views_1.attributes({\n\t    events: {\n\t        keyup: function keyup() {\n\t            this._prev = this.getValue();\n\t            this.triggerMethod('change');\n\t        },\n\t        change: function change() {\n\t            if (this._prev !== this.getValue()) {\n\t                this._prev = this.getValue();\n\t                this.triggerMethod('change');\n\t            }\n\t        }\n\t    }\n\t}), __metadata(\"design:paramtypes\", [])], TextArea);\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=views.form.js.map"]}